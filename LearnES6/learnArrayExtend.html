<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ES6 数组扩展</title>
</head>
<body>
<p>
    Array.from()方法用于将两类对象转为真正的数组：类似数组的对象（array­likeobject）和可遍历（iterable）的对象（包括ES6新增的数据结构Set和Map）。它背后使用Symbol.iterator转换。
    遇空位会转为undefined。
    <br>
    Array.of()用于将一组值，转换为数组。这个方法的主要目的，是弥补数组构造函数Array()在参数数量不一致时得到不同结果。
    数组实例的copyWithin()在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组。也就是说，使用这个方法，会修改当前数组。
    <br>
    数组实例的find()和findIndex()用于找出第一个符合条件的数组成员。它的参数是一个回调函数，所有数组成员依次执行该回调函数，
    直到找出第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。findIndex()也传入函数返回第一个符合条件的数组成员的位置，如果所有成
    员都不符合条件，则返回-1。这两个函数可以找到NaN的位置。
    <br>
    fill()填充数组
    <br>
    数组实例的entries()，keys()和values()都返回Iterator可for of迭代用next访问下一个，keys是index，values值，entries两个都有。
    <br>
    数组实例的includes()属于ES7，用于确定数组是否包含值。可用于NaN。
    <br>
    数组推导放在ES7里了，Babel已经支持转换它了。
</p>
<p>

</p>
<script type="text/javascript">
    let obj = {'0': 'a', '1': 'b', '2': 'c', 'length': 5};//length属性指定了数组长度，所以有length属性的对象都可以转换
    let arr = Array.from(obj);
    let arr3 = Array.from({length: 3});
    let arr4 = Array.from({length: 4}, () => 'str');
    console.log(arr, arr3, arr4);
    let arr2 = Array.from('hello');//字符串是iterable的，可以转数组
    console.log(arr2);
    //第二参数可以定义map方法
    let arr5 = Array.from([1, 2, 3], (x) => x * x);
    console.log(arr5);
</script>
<script type="text/javascript">
    //数组的空位，是没有值的位置，不是undefined。使用in可看到不同
    let v1=new Array(3);//结果为[,,]
    let v2=[undefined, undefined];
    let in1= 0 in v1;//判断第一个数组的0号位置是否有值
    let in2= 0 in v2;
    console.log(v1, in1, v2, in2);
    //ES5中forEach(), filter(), every(), some()都跳过空位，map()会跳过空位，但保留值，join()和toString()将空位转为undefined，而undefined和null会被转为字符串
    let v3=['a',,'b'];
    let res3=v3.filter(x=>true);
    console.log(res3);
    //ES6中统一将空位转为undefined
</script>
</body>
</html>